<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ูุธุงู ูุญุงุณุจุฉ ุงููุจูุนุงุช</title>
    <!-- Google Font Tajawal -->
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- Design System + ุชุฎุตูุตุงุช -->
    <link rel="stylesheet" href="style.css" />
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="app.js"></script>
  </head>
  <body>
    <!-- ุดุฑูุท ุนููู -->
    <header class="topbar flex justify-between items-center px-16 py-8">
      <div class="flex items-center gap-8">
        <button
          id="burgerBtn"
          class="btn btn--secondary btn--sm"
          aria-label="ูุชุญ ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ"
        >
          โฐ
        </button>
        <h1 class="app-title">ูุธุงู ูุญุงุณุจุฉ ุงููุจูุนุงุช</h1>
      </div>
      
      <!-- ุงูุชููู ุงูุนููู ููุดุงุดุงุช ุงููุจูุฑุฉ -->
      <nav class="top-nav flex gap-8" aria-label="ุงูุชููู ุงูุฑุฆูุณู">
        <button class="nav-btn active" data-section="dashboardSection" aria-label="ููุญุฉ ุงูุชุญูู">ููุญุฉ ุงูุชุญูู</button>
        <button class="nav-btn" data-section="productsSection" aria-label="ุงูุฃุตูุงู">ุงูุฃุตูุงู</button>
        <button class="nav-btn" data-section="transactionsSection" aria-label="ุงููุนุงููุงุช">ุงููุนุงููุงุช</button>
        <button class="nav-btn" data-section="reportsSection" aria-label="ุงูุชูุงุฑูุฑ">ุงูุชูุงุฑูุฑ</button>
      </nav>
      
      <button
        id="themeToggleBtn"
        class="btn btn--outline btn--sm"
        aria-label="ุชุจุฏูู ุงููุถุน ุงููููู"
      >๐</button>
    </header>

    <!-- ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ููููุจุงูู -->
    <nav id="sidebar" class="sidebar" aria-label="ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ">
      <ul class="sidebar__list">
        <li>
          <button class="sidebar__link active" data-section="dashboardSection">ููุญุฉ ุงูุชุญูู</button>
        </li>
        <li>
          <button class="sidebar__link" data-section="productsSection">ุงูุฃุตูุงู</button>
        </li>
        <li>
          <button class="sidebar__link" data-section="transactionsSection">ุงููุนุงููุงุช</button>
        </li>
        <li>
          <button class="sidebar__link" data-section="reportsSection">ุงูุชูุงุฑูุฑ</button>
        </li>
      </ul>
    </nav>

    <!-- ุทุจูุฉ ุชุนุชูู -->
    <div id="overlay" class="overlay hidden" tabindex="-1"></div>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="container my-8">
      <!-- ููุญุฉ ุงูุชุญูู -->
      <section id="dashboardSection" class="page-section">
        <h2 class="mb-8">ููุญุฉ ุงูุชุญูู</h2>
        <div class="card card__body mb-8 flex gap-16 flex-wrap">
          <div class="status status--success" id="todaySales">ูุจูุนุงุช ุงูููู: 0</div>
          <div class="status status--warning" id="todayPurchases">
            ูุดุชุฑูุงุช ุงูููู: 0
          </div>
          <div class="status status--info" id="todayNet">ุตุงูู ุงูุฑุจุญ: 0</div>
        </div>
        <h3 class="mb-8">ุชูุจููุงุช ุงููุฎุฒูู ุงูููุฎูุถ</h3>
        <div id="lowStockContainer" class="flex flex-col gap-8"></div>
      </section>

      <!-- ุงูุฃุตูุงู -->
      <section id="productsSection" class="page-section hidden">
        <div class="flex justify-between items-center mb-8">
          <h2>ุงูุฃุตูุงู</h2>
          <button
            id="addProductBtn"
            class="btn btn--primary"
            aria-label="ุฅุถุงูุฉ ุตูู"
          >
            + ุฅุถุงูุฉ ุตูู
          </button>
        </div>
        <div class="table-wrapper">
          <table class="full-table" id="productsTable">
            <thead>
              <tr>
                <th>ุงูุงุณู</th>
                <th>ุงููุฆุฉ</th>
                <th>ุณุนุฑ ุงูุดุฑุงุก</th>
                <th>ุณุนุฑ ุงูุจูุน</th>
                <th>ุงููููุฉ</th>
                <th>ุญุฏ ุฅุนุงุฏุฉ ุงูุทูุจ</th>
                <th>ุชุนุฏูู</th>
                <th>ุญุฐู</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <!-- ุงููุนุงููุงุช -->
      <section id="transactionsSection" class="page-section hidden">
        <h2 class="mb-8">ุงููุนุงููุงุช</h2>

        <div class="tabs flex gap-8 mb-8" role="tablist">
          <button
            class="btn btn--secondary btn--sm tab-btn active"
            data-tab="saleTab"
            aria-label="ุจูุน ุฌุฏูุฏ"
          >
            ุจูุน ุฌุฏูุฏ
          </button>
          <button
            class="btn btn--secondary btn--sm tab-btn"
            data-tab="purchaseTab"
            aria-label="ุดุฑุงุก / ุชูุฑูุฏ"
          >
            ุดุฑุงุก / ุชูุฑูุฏ
          </button>
        </div>

        <!-- ุจูุน -->
        <div id="saleTab" class="tab-content">
          <form id="salesForm" class="card card__body mb-8">
            <div class="form-group">
              <label for="saleDate" class="form-label">ุงูุชุงุฑูุฎ</label>
              <input
                type="date"
                id="saleDate"
                class="form-control"
                required
              />
            </div>
            <div class="form-group">
              <label for="saleProduct" class="form-label">ุงูุตูู</label>
              <select id="saleProduct" class="form-control" required></select>
            </div>
            <div class="form-group">
              <label for="saleQty" class="form-label">ุงููููุฉ</label>
              <input
                type="number"
                id="saleQty"
                class="form-control"
                min="1"
                required
              />
            </div>
            <div class="form-group">
              <label for="salePrice" class="form-label">ุณุนุฑ ุงูุจูุน</label>
              <input
                type="number"
                id="salePrice"
                class="form-control"
                min="0"
                step="0.01"
                required
              />
            </div>
            <button type="submit" class="btn btn--primary mt-8">ุญูุธ</button>
          </form>
        </div>

        <!-- ุดุฑุงุก -->
        <div id="purchaseTab" class="tab-content hidden">
          <form id="purchasesForm" class="card card__body mb-8">
            <div class="form-group">
              <label for="purchaseDate" class="form-label">ุงูุชุงุฑูุฎ</label>
              <input
                type="date"
                id="purchaseDate"
                class="form-control"
                required
              />
            </div>
            <div class="form-group">
              <label for="purchaseProduct" class="form-label">ุงูุตูู</label>
              <select id="purchaseProduct" class="form-control" required></select>
            </div>
            <div class="form-group">
              <label for="purchaseQty" class="form-label">ุงููููุฉ</label>
              <input
                type="number"
                id="purchaseQty"
                class="form-control"
                min="1"
                required
              />
            </div>
            <div class="form-group">
              <label for="purchaseCost" class="form-label">ุชูููุฉ ุงูุดุฑุงุก</label>
              <input
                type="number"
                id="purchaseCost"
                class="form-control"
                min="0"
                step="0.01"
                required
              />
            </div>
            <button type="submit" class="btn btn--primary mt-8">ุญูุธ</button>
          </form>
        </div>
      </section>

      <!-- ุงูุชูุงุฑูุฑ -->
      <section id="reportsSection" class="page-section hidden">
        <h2 class="mb-8">ุงูุชูุงุฑูุฑ</h2>

        <div class="flex gap-16 mb-8 flex-wrap">
          <div class="form-group">
            <label for="filterDate" class="form-label">ุชุตููุฉ ุจุงูุชุงุฑูุฎ</label>
            <input type="date" id="filterDate" class="form-control" />
          </div>
          <button id="clearFilterBtn" class="btn btn--secondary btn--sm mt-8" aria-label="ูุณุญ ุงูููุชุฑ">ูุณุญ</button>
        </div>

        <div class="table-wrapper mb-8">
          <table class="full-table" id="transactionsTable">
            <thead>
              <tr>
                <th>ุงูุชุงุฑูุฎ</th>
                <th>ููุน</th>
                <th>ุงูุตูู</th>
                <th>ุงููููุฉ</th>
                <th>ุงูุณุนุฑ/ุงูุชูููุฉ</th>
                <th>ุงูุฅุฌูุงูู</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="chart-container mb-8" style="position: relative; height: 320px;">
          <canvas id="lineChart"></canvas>
        </div>
        <button id="exportCsvBtn" class="btn btn--outline" aria-label="ุชุตุฏูุฑ CSV">ุชุตุฏูุฑ CSV</button>
      </section>
    </main>

    <!-- ููุฏุงู ุฅุถุงูุฉ/ุชุนุฏูู ุตูู -->
    <div id="productModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="productModalTitle">
      <div class="modal__content card card__body">
        <h3 id="productModalTitle" class="mb-8">ุฅุถุงูุฉ ุตูู</h3>
        <form id="productForm">
          <input type="hidden" id="productId" />
          <div class="form-group">
            <label for="productName" class="form-label">ุงูุงุณู</label>
            <input type="text" id="productName" class="form-control" required />
          </div>
          <div class="form-group">
            <label for="productCategory" class="form-label">ุงููุฆุฉ</label>
            <input type="text" id="productCategory" class="form-control" />
          </div>
          <div class="form-group">
            <label for="productCost" class="form-label">ุณุนุฑ ุงูุดุฑุงุก</label>
            <input type="number" id="productCost" class="form-control" min="0" step="0.01" required />
          </div>
          <div class="form-group">
            <label for="productPrice" class="form-label">ุณุนุฑ ุงูุจูุน</label>
            <input type="number" id="productPrice" class="form-control" min="0" step="0.01" required />
          </div>
          <div class="form-group">
            <label for="productQty" class="form-label">ุงููููุฉ ุงููุจุฏุฆูุฉ</label>
            <input type="number" id="productQty" class="form-control" min="0" required />
          </div>
          <div class="form-group">
            <label for="productReorder" class="form-label">ุญุฏ ุฅุนุงุฏุฉ ุงูุทูุจ</label>
            <input type="number" id="productReorder" class="form-control" min="0" required />
          </div>
          <div class="flex gap-8 mt-8">
            <button type="submit" class="btn btn--primary btn--full-width">ุญูุธ</button>
            <button id="cancelProductBtn" type="button" class="btn btn--secondary btn--full-width">ุฅูุบุงุก</button>
          </div>
        </form>
      </div>
    </div>

    <!-- ููุฏุงู ุชุฃููุฏ ุญุฐู -->
    <div id="confirmModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
      <div class="modal__content card card__body">
        <h3 id="confirmTitle" class="mb-8">ูู ุฃูุช ูุชุฃูุฏุ</h3>
        <p class="mb-8">ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐู ุงูุนูููุฉ.</p>
        <div class="flex gap-8">
          <button id="confirmYesBtn" class="btn btn--primary btn--full-width">ูุนู</button>
          <button id="confirmNoBtn" class="btn btn--secondary btn--full-width">ูุง</button>
        </div>
      </div>
    </div>
  </body>
</html>